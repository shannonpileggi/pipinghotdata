---
title: "What's in a name?"
author: "Shannon Pileggi"
date: 2018-10-16
categories: ["R"]
tags: ["blogs", "piping", "tidyverse", "hot data"]
---



<p>So do I have <strong>piping hot</strong> <em>data</em> or am I <strong>piping</strong> <em>hot data</em>? Let’s break it down.</p>
<p><strong>Piping Hot</strong> <em>Data</em></p>
<p>Wow, my <em>data</em> is <strong>piping hot</strong>! This connotes exciting, newly released data! I can’t promise that I’ll fulfill this expectation. Let’s just say that I’ll talk about data occasionally, and on special occassions it might even be piping hot.</p>
<p><strong>Piping</strong> <em>Hot Data</em></p>
<p>Here, I am <strong>piping</strong> my elusive <em>hot data</em>. This is what I was really going for - an ode to the <strong>pipe</strong> in R:</p>
<blockquote>
<p><code>%&gt;%</code></p>
</blockquote>
<p>The <a href="http://r4ds.had.co.nz/pipes.html">pipe operator</a> simplifies long operations by <a href="(https://www.datacamp.com/community/tutorials/pipe-r-tutorial)">linking multiple functions</a> simultaneously. Although the coding construct of the pipe has been floating around since the 1970’s, the floodgates didn’t open for R until <a href="http://adolfoalvarez.cl/plumbers-chains-and-famous-painters-the-history-of-the-pipe-operator-in-r/">2014</a>. I don’t know the exact date, but I do remember the first time I saw those three characters and the sea of emotions that rained down. Confusion. Curiousity. Excitement.</p>
<p>In just 4 short years, the pipe and its friends in the <a href="https://www.tidyverse.org/">tidyverse</a> have revolutionized how we code in R, to the point that you may feel illiterate at conferences if you don’t have some baseline understanding - <em>at first</em>. Because the beauty of the pipe is that it streamlines readibility of R code, such that even if you have never done it, you can still get the gist of what is going on. So much so that believers are proselytizing <a href="http://varianceexplained.org/r/teach-tidyverse/">“Teach the tidyverse to beginners”</a>!</p>
<p>Let’s lay the pipelines with a quick example using the classic <code>iris</code> data set. To get started, load the <code>tidyverse</code> library and get an overivew of the data.</p>
<pre class="r"><code>library(tidyverse)

glimpse(iris)</code></pre>
<pre><code>## Observations: 150
## Variables: 5
## $ Sepal.Length &lt;dbl&gt; 5.1, 4.9, 4.7, 4.6, 5.0, 5.4, 4.6, 5.0, 4.4, 4.9,...
## $ Sepal.Width  &lt;dbl&gt; 3.5, 3.0, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1,...
## $ Petal.Length &lt;dbl&gt; 1.4, 1.4, 1.3, 1.5, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5,...
## $ Petal.Width  &lt;dbl&gt; 0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1,...
## $ Species      &lt;fct&gt; setosa, setosa, setosa, setosa, setosa, setosa, s...</code></pre>
<p>Our simple objective is to compute the mean <code>Sepal.Length</code> for each <code>Species</code> in the data set. There are <em>many</em> ways to accomplish this without the tidyverse, but for the sake of side-by-side comparisons, I’ll first demo using tidyverse functions without piping. This is blasphemy. Don’t ever do this.</p>
<pre class="r"><code>grp_iris &lt;- group_by(iris, Species)

mean_by_species &lt;- summarise(grp_iris, mean = mean(Sepal.Length))

mean_by_species</code></pre>
<pre><code>## # A tibble: 3 x 2
##   Species     mean
##   &lt;fct&gt;      &lt;dbl&gt;
## 1 setosa      5.01
## 2 versicolor  5.94
## 3 virginica   6.59</code></pre>
<p>With this method I created an intermediate object (<code>grp_iris</code>) in order to get the final desired result. And it’s not easy to follow how the objects relate: note how you define objects on the left hand side of <code>-&gt;</code> and then leapfrog them over to the right hand side of <code>-&gt;</code>, continuing this sequence in perpetuity for all of your operations. That looks like some plumbing prone to leaks.</p>
<p>Let’s try the same manipulations utilizing piping.</p>
<pre class="r"><code>iris %&gt;% glimpse</code></pre>
<pre><code>## Observations: 150
## Variables: 5
## $ Sepal.Length &lt;dbl&gt; 5.1, 4.9, 4.7, 4.6, 5.0, 5.4, 4.6, 5.0, 4.4, 4.9,...
## $ Sepal.Width  &lt;dbl&gt; 3.5, 3.0, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1,...
## $ Petal.Length &lt;dbl&gt; 1.4, 1.4, 1.3, 1.5, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5,...
## $ Petal.Width  &lt;dbl&gt; 0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1,...
## $ Species      &lt;fct&gt; setosa, setosa, setosa, setosa, setosa, setosa, s...</code></pre>
<pre class="r"><code>mean_by_species &lt;- iris %&gt;% 
                     group_by(Species) %&gt;% 
                     summarise(mean = mean(Sepal.Length))
mean_by_species</code></pre>
<pre><code>## # A tibble: 3 x 2
##   Species     mean
##   &lt;fct&gt;      &lt;dbl&gt;
## 1 setosa      5.01
## 2 versicolor  5.94
## 3 virginica   6.59</code></pre>
<p>Voilá! It’s clear from the left side of the pipe that all manipulations are done on the <code>iris</code> data set, and it’s clear from the right side of the pipe that the series of operations performed are <code>group_by</code> and <code>summarise</code>. Wow, I like the way data flow through those pipes!</p>
<p>I’m still not as not as fluent with piping in the tidyverse as I’d like to to be. Sometimes I feel like I am chattering in a second language rather than speaking my mother tongue. So here are my goals for <strong><em>Piping Hot Data</em></strong>:</p>
<ul>
<li>Pipe my way through the tidyverse.</li>
<li>Demo data science tools and methods.</li>
<li>Discover new data and R packages.</li>
<li>Deliberate data and technical topics.</li>
</ul>
<p>I hope you enjoy!</p>
